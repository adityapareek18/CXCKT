"use strict";
/**
 * Created by Moiz.Kachwala on 15-06-2016.
 */
var SessionRepository = require("./../repository/SessionRepository");
var SessionBusiness = (function () {
    function SessionBusiness() {
        this._sessionRepository = new SessionRepository();
    }
    SessionBusiness.prototype.create = function (item, callback) {
        this._sessionRepository.create(item, callback);
    };
    SessionBusiness.prototype.retrieve = function (callback) {
        this._sessionRepository.retrieve(callback);
    };
    SessionBusiness.prototype.update = function (_id, item, callback) {
        var _this = this;
        this._sessionRepository.findById(_id, function (err, res) {
            if (err)
                callback(err, res);
            else
                _this._sessionRepository.update(res._id, item, callback);
        });
    };
    SessionBusiness.prototype.delete = function (_id, callback) {
        this._sessionRepository.delete(_id, callback);
    };
    SessionBusiness.prototype.findById = function (_id, callback) {
        this._sessionRepository.findById(_id, callback);
    };
    return SessionBusiness;
}());
Object.seal(SessionBusiness);
module.exports = SessionBusiness;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9idXNpbmVzcy9TZXNzaW9uQnVzaW5lc3MudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBOztHQUVHO0FBRUgscUVBQXdFO0FBTXhFO0lBR0k7UUFDSSxJQUFJLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxpQkFBaUIsRUFBRSxDQUFDO0lBQ3RELENBQUM7SUFFRCxnQ0FBTSxHQUFOLFVBQVEsSUFBbUIsRUFBRSxRQUEyQztRQUNwRSxJQUFJLENBQUMsa0JBQWtCLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxRQUFRLENBQUMsQ0FBQztJQUNuRCxDQUFDO0lBRUQsa0NBQVEsR0FBUixVQUFVLFFBQTJDO1FBQ2pELElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDL0MsQ0FBQztJQUVELGdDQUFNLEdBQU4sVUFBUSxHQUFXLEVBQUUsSUFBbUIsRUFBRSxRQUEyQztRQUFyRixpQkFTQztRQVBHLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxRQUFRLENBQUMsR0FBRyxFQUFFLFVBQUMsR0FBRyxFQUFFLEdBQUc7WUFDM0MsRUFBRSxDQUFBLENBQUMsR0FBRyxDQUFDO2dCQUFDLFFBQVEsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7WUFFM0IsSUFBSTtnQkFDQSxLQUFJLENBQUMsa0JBQWtCLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBRWhFLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVELGdDQUFNLEdBQU4sVUFBUSxHQUFXLEVBQUUsUUFBMEM7UUFDM0QsSUFBSSxDQUFDLGtCQUFrQixDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUcsUUFBUSxDQUFDLENBQUM7SUFDbkQsQ0FBQztJQUVELGtDQUFRLEdBQVIsVUFBVSxHQUFXLEVBQUUsUUFBcUQ7UUFDeEUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLFFBQVEsQ0FBQyxHQUFHLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDcEQsQ0FBQztJQUVMLHNCQUFDO0FBQUQsQ0FsQ0EsQUFrQ0MsSUFBQTtBQUdELE1BQU0sQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7QUFDN0IsaUJBQVMsZUFBZSxDQUFDIiwiZmlsZSI6ImFwcC9idXNpbmVzcy9TZXNzaW9uQnVzaW5lc3MuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ3JlYXRlZCBieSBNb2l6LkthY2h3YWxhIG9uIDE1LTA2LTIwMTYuXHJcbiAqL1xyXG5cclxuaW1wb3J0IFNlc3Npb25SZXBvc2l0b3J5ID0gcmVxdWlyZShcIi4vLi4vcmVwb3NpdG9yeS9TZXNzaW9uUmVwb3NpdG9yeVwiKTtcclxuaW1wb3J0IElTZXNzaW9uQnVzaW5lc3MgPSByZXF1aXJlKFwiLi9pbnRlcmZhY2VzL1Nlc3Npb25CdXNpbmVzc1wiKTtcclxuaW1wb3J0IElTZXNzaW9uTW9kZWwgPSByZXF1aXJlKFwiLi8uLi9tb2RlbC9pbnRlcmZhY2VzL1Nlc3Npb25Nb2RlbFwiKTtcclxuaW1wb3J0IFNlc3Npb25Nb2RlbCA9IHJlcXVpcmUoXCIuLy4uL21vZGVsL1Nlc3Npb25Nb2RlbFwiKTtcclxuXHJcblxyXG5jbGFzcyBTZXNzaW9uQnVzaW5lc3MgaW1wbGVtZW50cyBJU2Vzc2lvbkJ1c2luZXNzIHtcclxuICAgIHByaXZhdGUgX3Nlc3Npb25SZXBvc2l0b3J5OiBTZXNzaW9uUmVwb3NpdG9yeTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvciAoKSB7XHJcbiAgICAgICAgdGhpcy5fc2Vzc2lvblJlcG9zaXRvcnkgPSBuZXcgU2Vzc2lvblJlcG9zaXRvcnkoKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUgKGl0ZW06IElTZXNzaW9uTW9kZWwsIGNhbGxiYWNrOiAoZXJyb3I6IGFueSwgcmVzdWx0OiBhbnkpID0+IHZvaWQpIHtcclxuICAgICAgICB0aGlzLl9zZXNzaW9uUmVwb3NpdG9yeS5jcmVhdGUoaXRlbSwgY2FsbGJhY2spO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHJpZXZlIChjYWxsYmFjazogKGVycm9yOiBhbnksIHJlc3VsdDogYW55KSA9PiB2b2lkKSB7XHJcbiAgICAgICAgdGhpcy5fc2Vzc2lvblJlcG9zaXRvcnkucmV0cmlldmUoY2FsbGJhY2spO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSAoX2lkOiBzdHJpbmcsIGl0ZW06IElTZXNzaW9uTW9kZWwsIGNhbGxiYWNrOiAoZXJyb3I6IGFueSwgcmVzdWx0OiBhbnkpID0+IHZvaWQpIHtcclxuXHJcbiAgICAgICAgdGhpcy5fc2Vzc2lvblJlcG9zaXRvcnkuZmluZEJ5SWQoX2lkLCAoZXJyLCByZXMpID0+IHtcclxuICAgICAgICAgICAgaWYoZXJyKSBjYWxsYmFjayhlcnIsIHJlcyk7XHJcblxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXNzaW9uUmVwb3NpdG9yeS51cGRhdGUocmVzLl9pZCwgaXRlbSwgY2FsbGJhY2spO1xyXG5cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBkZWxldGUgKF9pZDogc3RyaW5nLCBjYWxsYmFjazooZXJyb3I6IGFueSwgcmVzdWx0OiBhbnkpID0+IHZvaWQpIHtcclxuICAgICAgICB0aGlzLl9zZXNzaW9uUmVwb3NpdG9yeS5kZWxldGUoX2lkICwgY2FsbGJhY2spO1xyXG4gICAgfVxyXG5cclxuICAgIGZpbmRCeUlkIChfaWQ6IHN0cmluZywgY2FsbGJhY2s6IChlcnJvcjogYW55LCByZXN1bHQ6IElTZXNzaW9uTW9kZWwpID0+IHZvaWQpIHtcclxuICAgICAgICB0aGlzLl9zZXNzaW9uUmVwb3NpdG9yeS5maW5kQnlJZChfaWQsIGNhbGxiYWNrKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcblxyXG5PYmplY3Quc2VhbChTZXNzaW9uQnVzaW5lc3MpO1xyXG5leHBvcnQgPSBTZXNzaW9uQnVzaW5lc3M7Il19
